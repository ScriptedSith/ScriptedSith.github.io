<div class="guide-wrapper">
    <aside class="toc-sidebar glass-panel">
        <h3 style="color: #ff3333; margin-top: 0;">Policy Index</h3>
        <ul id="sidebar-links"></ul>
    </aside>

    <div id="policy-container" class="content-area"></div>
</div>

<script type="module">
    import { policyData } from './policyData.js';

    const container = document.getElementById('policy-container');
    const sidebar = document.getElementById('sidebar-links');

    policyData.forEach(article => {
        // 1. Create Sidebar Link
        const li = document.createElement('li');
        li.innerHTML = `<a href="#${article.id}">${article.title.split('â€”')[0]}</a>`;
        sidebar.appendChild(li);

        // 2. Build Section Content
        let sectionHTML = '';
        article.sections.forEach(sec => {
            sectionHTML += `<p><b>${sec.name}</b><br>${sec.text}</p>`;
        });

        // 3. Inject Glass Panel using your new function
        container.innerHTML += `
            <section id="${article.id}" class="glass-panel">
                <h2 style="color: #ff3333; border-bottom: 2px solid #ff3333; padding-bottom: 5px; margin-top: 0;">
                    ${article.title}
                </h2>
                ${sectionHTML}
            </section>
        `;
    });
</script>